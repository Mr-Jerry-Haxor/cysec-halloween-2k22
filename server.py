# !/usr/bin/env.python3

from hashlib import md5
 
 
from flask import Flask
from flask import render_template , abort



app = Flask(__name__)
flag = open('flag.txt').read().strip()

@app.route('/')
def index():
    return render_template("index.html")

@app.route('/<hash>')
def room(hash):
    m = md5(str('S').encode('utf-8')).hexdigest()
    bf = "-[------->+<]>-.[--->++++<]>+.-[++>-----<]>..+++++++++.-[---->+<]>++.++++[->++<]>.[--->++++<]>+.+++++++++++..+++.++++++++.[->+++<]>..+++++++++.-[->+++++<]>.-.++++[->++<]>.[--->++++<]>+.+[--->+<]>.+[->+++<]>.--[--->+<]>-.++[->+++<]>.-[--->+<]>--.-------.[----->++<]>.------------.---[->++++<]>-.+.+[->+++<]>++.+[--->+<]>+++.-[---->+<]>++.---[->++++<]>-.++[->+++<]>++.+++++.-.--[--->+<]>-.[->+++<]>+.+++++++++++++.----------.-[--->+<]>-.[->+++<]>+.+[--->+<]>.-------.------.-----.-[--->+<]>-.---[->++++<]>.------------.---.--[--->+<]>-.-[->++++<]>--.[->+++<]>+.--.-----------.+++++++.----.--[--->+<]>-.[->+++<]>+.-[++>-----<]>.-.------------.--.+++++++++++.-[--->+<]>.---------.+++.++++[->+++<]>.[->+++<]>-.+[--->+<]>+.++++++.-----------.++++++.[----->+<]>.-[----->++<]>.---.+.[-->+<]>+++++.--.+++.-.-.--[->++<]>.[-->+<]>.-[->++<]>.[-->+<]>++.-[->++<]>.---.+[-->+<]>.+++++++.-[--->+<]>-----.++.-.[-->+<]>+++++...------[->++<]>.+++.-[-->+<]>.+++++.---.-..++++.----[->++<]>-.----.>--[-->+++<]>."
    if m==hash:
        return render_template("flag.html",flag=flag,decode=bf)
    data = ["H","A","L","L","O","W","E","E","N","N","I","G","H","T"]
    for i in range(14):
        m = md5(str(data[i]).encode('utf-8')).hexdigest()
        if m == hash:
            return render_template("empty.html")
    return abort(404)

if ( __name__ == "__main__"):
    app.run(host = "0.0.0.0",debug=False)